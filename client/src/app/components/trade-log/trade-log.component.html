<div class="container">
        <div class="header">
            <h1 class="title">Trading Portfolio</h1>
            <p class="subtitle">Your recent trades and performance</p>
            <button class="open-modal-btn"  (click)="openModal()">New Trade</button>
        </div>

        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th class="date-col">Date</th>
                        <th>Symbol</th>
                        <th>Asset</th>
                        <th>Type</th>
                        <th>Qty</th>
                        <th>Entry</th>
                        <th>Exit</th>
                        <th>Fees</th>
                        <th>P/L</th>
                        <th class="action-col">Edit</th>
                        <th class="action-col">Delete</th>
                    </tr>
                </thead>
                <tbody>
                     <!-- Angular will render rows here with *ngFor  -->
                     <!-- Example structure for your .ts component: -->
                    <tr *ngFor="let trade of trades">
                        <td class="date-col">{{ trade.date }}</td>
                        <td class="symbol">{{ trade.symbol }}</td>
                        <td>{{trade.asset}}</td>
                        <td [class]="'type-' + trade.type.toLowerCase()">{{ trade.type }}</td>
                        <td>{{ trade.qty }}</td>
                        <td>{{ trade.entry }}</td>
                        <td>{{ trade.exit }}</td>
                        <td>{{trade.fees}}</td>
                        <td [class]="trade.pl >= 0 ? 'profit-positive' : 'profit-negative'">{{ trade.pl | currency:'INR':'symbol':'1.0-0' }}</td>
                        <td class="action-col">
                            <button class="btn btn-edit" (click)="editTrade(trade)">
                                <svg class="icon" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                                </svg>
                            </button>
                        </td>
                        <td class="action-col">
                            <button class="btn btn-delete" (click)="deleteTrade(trade._id)">
                                <svg class="icon" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                                </svg>
                            </button>
                        </td>
                    </tr>
                    
                </tbody>
            </table>
        </div>
    </div>






     <div class="modal-overlay" id="tradeModal"  *ngIf="isModalActive">
        <div class="modal-container">
            <div class="modal-header">
                <button class="modal-close"  (click)="closeModal()" >
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                    </svg>
                </button>
                <h2 class="modal-title">Add New Trade</h2>
                <p class="modal-subtitle">Enter your trade details</p>
            </div>

            <div class="form-container">
               <form [formGroup]="tradeForm" (ngSubmit)="onSubmit()">
                    <!-- Date Field -->
                    <div class="form-group">
                        <label for="date">Date</label>
                        <div class="date-picker">
                            <input type="date" id="date" name="date" class="input-field" formControlName="date" required>
                        </div>
                        <div class="validation-message">Please select a valid date</div>
                    </div>

                    <!-- Symbol and Asset Type Row -->
                    <div class="form-row">
                        <div class="form-group">
                            <label for="symbol">Symbol</label>
                            <input type="text" id="symbol" name="symbol" class="input-field" placeholder="e.g., BTCUSD, AAPL" formControlName="symbol" required>
                            <div class="validation-message">Symbol is required</div>
                        </div>
                        <div class="form-group">
                            <label for="assetType">Asset Type</label>
                            <select id="assetType" name="assetType" class="input-field" formControlName="assetType" required>
                                <option value="">Select Asset Type</option>
                                <option value="stock">stock</option>
                                <option value="crypto">crypto</option>
                                <option value="index">index</option>
                                <!-- <option value="ETF">ETF</option> -->
                            </select>
                            <div class="validation-message">Please select an asset type</div>
                        </div>
                    </div>

                    <!-- Trade Type and Quantity Row -->
                    <div class="form-row">
                        <div class="form-group">
                            <label for="tradeType">Trade Type</label>
                            <select id="tradeType" name="tradeType" class="input-field" formControlName="tradeType" required>
                                <option value="">Select Type</option>
                                <option value="buy">buy</option>
                                <option value="sell">sell</option>
                            </select>
                            <div class="validation-message">Please select trade type</div>
                        </div>
                        <div class="form-group">
                            <label for="quantity">Quantity</label>
                            <input type="number" id="quantity" name="quantity" class="input-field" formControlName="quantity" placeholder="0" min="0" step="0.001" required>
                            <div class="validation-message">Quantity must be greater than 0</div>
                        </div>
                    </div>

                    <!-- Entry Price and Exit Price Row -->
                    <div class="form-row">
                        <div class="form-group">
                            <label for="entryPrice">Entry Price</label>
                            <div class="input-wrapper">
                                <span class="currency-symbol">₹</span>
                                <input type="number" id="entryPrice" name="entryPrice" class="input-field currency-input" placeholder="0.00" min="0" step="0.01" formControlName="entryPrice" required>
                            </div>
                            <div class="validation-message">Entry price is required</div>
                        </div>
                        <div class="form-group">
                            <label for="exitPrice">Exit Price</label>
                            <div class="input-wrapper">
                                <span class="currency-symbol">₹</span>
                                <input type="number" id="exitPrice" name="exitPrice" class="input-field currency-input" placeholder="0.00" min="0" step="0.01" formControlName="exitPrice">
                            </div>
                            <div class="validation-message">Exit price must be greater than 0</div>
                        </div>
                    </div>

                    <!-- Fees -->
                    <div class="form-group">
                        <label for="fees">Fees (Optional)</label>
                        <div class="input-wrapper">
                            <span class="currency-symbol">₹</span>
                            <input type="number" id="fees" name="fees" class="input-field currency-input" placeholder="0.00" min="0" step="0.01" formControlName="fees">
                        </div>
                    </div>

                    <!-- Form Actions -->
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" (click)="closeModal()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                            </svg>
                            Cancel
                        </button>
                        <button type="submit" class="btn btn-primary">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                            </svg>
                            Add Trade
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>